<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="reservation">
	<select id="QID_SELECT_RESERVATION_CAPACITY_LIST" resultType="ReservationCapacityDto">
		SELECT
			reservation_capacity_no,
			CASE reservation_capacity_dw
				WHEN 'D' THEN '평일'
				WHEN 'W' THEN '주말'
			END reservation_capacity_dw,
			reservation_capacity_time,
			reservation_capacity_people
		FROM
			ym_reservation_capacity
		<where>
			<if test="reservation_capacity_dw != 'all'">
				AND reservation_capacity_dw = #{reservation_capacity_dw}
			</if>
		</where>
	</select>
	
	<select id="QID_SELECT_RESERVATION_CAPACITY" resultType="ReservationCapacityDto">
		SELECT
			reservation_capacity_no,
			reservation_capacity_dw,
			reservation_capacity_time,
			reservation_capacity_people
		FROM
			ym_reservation_capacity
		WHERE
			reservation_capacity_no = #{reservation_capacity_no}
	</select>
	
	<insert id="QID_INSERT_RESERVATION_CAPACITY">
		INSERT INTO ym_reservation_capacity (
			reservation_capacity_no,
			reservation_capacity_dw,
			reservation_capacity_time,
			reservation_capacity_people
		) VALUES (
			ym_reservation_capacity_no_seq.nextval,
			#{reservation_capacity_dw},
			#{reservation_capacity_time},
			#{reservation_capacity_people}
		)
	</insert>
	
	<update id="QID_UPDATE_RESERVATION_CAPACITY">
		UPDATE ym_reservation_capacity
		SET
			reservation_capacity_dw = #{reservation_capacity_dw},
			reservation_capacity_time = #{reservation_capacity_time},
			reservation_capacity_people = #{reservation_capacity_people}
		WHERE
			reservation_capacity_no = #{reservation_capacity_no}
	</update>
	
	<delete id="QID_DELETE_RESERVATION_CAPACITY">
		DELETE
			ym_reservation_capacity
		WHERE
			reservation_capacity_no = #{reservation_capacity_no}
	</delete>
</mapper>